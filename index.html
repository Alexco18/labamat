<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Maquettes dynamiques</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- Barre de navigation -->
  <nav>
    <ul class="menu">
      <li>Avion</li>
      <li>Sub</li>
      <li>Bateau</li>
    </ul>
  </nav>

  <!-- Bulle d'information (positionnée juste sous le menu) -->
  <div class="info" id="infoBox">
    <div class="info-content">
      <img id="infoImg" src="" alt="Illustration du projet" />
      <div>
        <p id="infoText"></p>
        <a id="infoLink" href="#" target="_blank">Voir le projet</a>
      </div>
    </div>
  </div>

  <!-- Section de présentation -->
  <section class="presentation">
    <h2>Présentation</h2>
    <p>Découvrez nos projets en survolant les onglets ci-dessus. Une description s'affiche automatiquement.</p>
  </section>

  <script>
    let infoBox = document.getElementById("infoBox");
    let infoImg = document.getElementById("infoImg");
    let infoText = document.getElementById("infoText");
    let infoLink = document.getElementById("infoLink");

    const data = {
      avion: {
        img: "img/avion.jpg",
        text: "Design et aérodynamique des maquettes volantes.",
        link: "projets/avion.html"
      },
      sub: {
        img: "img/submarine.jpg",
        text: "Exploration des systèmes immergés et propulsion sous-marine.",
        link: "projets/sous-marin.html"
      },
      bateau: {
        img: "img/boat.jpg",
        text: "Modélisation navale et stabilité en milieu aquatique.",
        link: "projets/bateau.html"
      }
    };

    function showInfo(theme) {
      const item = data[theme];
      infoImg.src = item.img;
      infoText.textContent = item.text;
      infoLink.href = item.link;
      infoBox.style.display = "block";
      setTimeout(() => {
        infoBox.style.opacity = "1";
      }, 10);
    }

    function setupPersistentHover() {
      const menuItems = document.querySelectorAll(".menu li");

      menuItems.forEach(li => {
        li.addEventListener("mouseenter", () => {
          const key = li.textContent.trim().toLowerCase();
          showInfo(key);
        });

        li.addEventListener("mouseleave", tryHideInfo);
      });

      infoBox.addEventListener("mouseenter", () => {
        infoBox.dataset.hovered = "true";
      });

      infoBox.addEventListener("mouseleave", tryHideInfo);
    }

    function tryHideInfo() {
      infoBox.dataset.hovered = "false";
      setTimeout(() => {
        if (infoBox.dataset.hovered === "false") {
          infoBox.style.opacity = "0";
          setTimeout(() => {
            infoBox.style.display = "none";
          }, 300);
        }
      }, 200);
    }

    document.addEventListener("DOMContentLoaded", setupPersistentHover);
  </script>
</body>
</html>
